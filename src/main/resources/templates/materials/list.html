<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ํ์ต ์๋ฃ - ๊ทธ๋ฃน ์คํฐ๋</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<div class="container">
    <header>
        <h1>ํ์ต ์๋ฃ: <span th:text="${group.name}">๊ทธ๋ฃน๋ช</span></h1>
        <nav>
            <ul>
                <li><a th:href="@{/dashboard}">๋์๋ณด๋</a></li>
                <li><a th:href="@{/groups}">์คํฐ๋ ๊ทธ๋ฃน</a></li>
                <li><a th:href="@{/groups/{id}(id=${group.groupId})}">๊ทธ๋ฃน์ผ๋ก ๋์๊ฐ๊ธฐ</a></li>
                <li><a th:href="@{/auth/logout}">๋ก๊ทธ์์</a></li>
            </ul>
        </nav>
    </header>

    <div th:if="${message}" class="alert alert-success">
        <p th:text="${message}"></p>
    </div>

    <section>
        <div class="button-container">
            <a th:href="@{/materials/create(groupId=${group.groupId})}" class="btn btn-primary">์ ํ์ต ์๋ฃ ์ถ๊ฐ</a>
        </div>

        <div th:if="${materials.empty}">
            <p>๋ฑ๋ก๋ ํ์ต ์๋ฃ๊ฐ ์์ต๋๋ค.</p>
        </div>

        <div th:unless="${materials.empty}">
            <table class="table">
                <thead>
                <tr>
                    <th>์๋ชฉ</th>
                    <th>์นดํ๊ณ๋ฆฌ</th>
                    <th>์์ฑ์</th>
                    <th>๋ฑ๋ก์ผ</th>
                    <th>์ฒจ๋ถํ์ผ</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="material : ${materials}">
                    <td><a th:href="@{/materials/{id}(id=${material.materialId})}" th:text="${material.title}">์๋ฃ ์๋ชฉ</a></td>
                    <td th:text="${material.category}">์นดํ๊ณ๋ฆฌ</td>
                    <td>์์ฑ์</td>
                    <td th:text="${#temporals.format(material.createdAt, 'yyyy-MM-dd')}">2025-01-01</td>
                    <td>
                        <a th:if="${material.filePath != null}" th:href="@{/materials/download/{id}(id=${material.materialId})}">
                            <span class="file-icon">๐</span> ๋ค์ด๋ก๋
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
</div>
</body>
</html>